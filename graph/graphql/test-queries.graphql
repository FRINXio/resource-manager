mutation createNewResourceType {
    CreateResourceType(
        resourceName: "vlan",
        resourceProperties: {
            vlan: "int"
        }
    ) {
        ID
        Name
    }
}

mutation createComplexResourceType {
    CreateResourceType(
        resourceName: "complex",
        resourceProperties: {
            a: "int",
            b: "string"
        }
    ) {
        ID
        Name
    }
}

query queryResourceTypes {
    QueryResourceTypes{
        ID
        Name
        Edges {
            PropertyTypes {
                Name
                Type
            }
        }
    }
}

mutation createSetPool {
    CreateSetPool(
        resourceTypeId: 25769803776,
        poolName: "vlan_test4",
        poolValues: [{vlan: 13}, {vlan: 14},],
        poolDealocationSafetyPeriod: 0
    ){
        ID
        PoolType
        Name
    }
}

mutation createAllocationStrat {
    CreateAllocationStrategy(
        name: "helloWorld",
        script: "function invoke() { return {\"vlan\" : userInput.vlan}; }"
    ){
        ID
        Name
        Lang
        Script
    }
}

mutation TestAllocationStrategy {
    TestAllocationStrategy(
        allocationStrategyId: 1,
        resourcePool: { ResourcePoolName: "name", ResourceTypeName: [] },
        currentResources: [{Properties: { value:"1.2.3.1"}}],
        userInput: {vlan: 11})
}

query queryAllocationStrats {
    QueryAllocationStrategies{
        ID
        Name
        Lang
        Script
    }
}

mutation createAllocationPool {
    CreateAllocatingPool(
        resourceTypeId: 25769803776,
        poolName: "vlan_allocating",
        allocationStrategyId: 1,
        poolDealocationSafetyPeriod: 0
    ){
        ID
        PoolType
        Name
    }
}

query QueryAllPools {
    QueryResourcePools{
        ID
        Name
    }
}

mutation ClaimResource {
    ClaimResource(poolId:21474836480, userInput: {}) {
        ID
        Properties
    }
}

mutation ClaimResourceFromAllocatingPool {
    ClaimResource(poolId:21474836481, userInput: {vlan: 10}) {
        ID
        Properties
    }
}

query QueryResources {
    QueryResources(poolId:21474836481){
        ID
        Properties
    }
}

mutation deleteResourcePool {
    DeleteResourcePool(resourcePoolId:21474836481)
}

mutation deleteAllocationStrat {
    DeleteAllocationStrategy(
        allocationStrategyId: 1,
    ){
        Name
    }
}
